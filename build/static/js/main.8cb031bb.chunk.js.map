{"version":3,"sources":["components/button.js","components/buttonPallet.js","components/tagsPanel.js","vars.js","components/tabSwitches.js","components/buttonsPanel.js","components/input.js","components/buttonOnOff.js","components/mainSettingsPanel.js","components/editorPanel.js","components/contentEditable.js","components/htmlEditable.js","components/tabContainer.js","App.js","startingValue.js","serviceWorker.js","index.js"],"names":["Button","props","clickEvent","onClick","this","className","classes","name","title","text","icon","React","Component","ButtonPallet","style","backgroundColor","TagsPanel","state","param","setTag","bind","clearFormat","e","preventDefault","editAllowed","tag","target","commands","tagParameters","command","i","length","href","prompt","toUpperCase","document","execCommand","styles","bgcolor","color","console","log","container","selection","createRange","parentElement","select","window","getSelection","rangeCount","getRangeAt","startContainer","parentNode","nodeName","outerHTML","innerHTML","tagList","Object","keys","map","elem","index","key","display","TabSwitches","buttons","html","css","ButtonsPanel","setGlobalParam","reset","download","undo","redo","states","editText","alert","block","querySelector","link","createElement","file","Blob","type","URL","createObjectURL","click","Input","value","eventHandler","step","onChange","ButtonOnOff","on_off_status","MainSettingsPanel","switchEditText","edit","fontSize","inputs","lineHeight","EditorPanel","tabSwitch","handleChange","switchShowColorPiper","changeColor","setState","paletteEdit","hex","colorPicker","getAttribute","tabActive","ContentEditable","onBlur","tabIndex","contentEditable","suppressContentEditableWarning","dangerouslySetInnerHTML","__html","HTMLeditable","TabContainer","children","show","App","sanitize","data","inputName","querySelectorAll","forEach","tagName","innerText","sanitizeHtml","sanitizeParam","startingValue","allowedTags","allowedAttributes","a","parser","lowerCaseTags","transformTags","exclusiveFilter","frame","trim","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.8cb031bb.chunk.js","sourcesContent":["import React from 'react';\r\nimport { render } from '@testing-library/react';\r\n\r\n\r\n\r\n\r\n// button\r\nexport default class Button extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.clickEvent = props.clickEvent;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <button\r\n        onClick={this.clickEvent}\r\n        className={this.props.classes}\r\n        name={this.props.name}\r\n        title={this.props.text}\r\n      >\r\n        {/* Если есть иконка, то добавить её класс. Если нет, то просто текст */}\r\n        {this.props.icon ?\r\n          <span\r\n            className={\"sprite \" + this.props.icon}>\r\n          </span>\r\n          :\r\n          <span>\r\n            {this.props.text || 'Button'}\r\n          </span>\r\n        }\r\n      </button >\r\n    )\r\n  }\r\n}","import React from 'react';\r\nimport { render } from '@testing-library/react';\r\n\r\n\r\n\r\n\r\n// button\r\nexport default class ButtonPallet extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.clickEvent = props.clickEvent;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <button\r\n        onClick={this.clickEvent}\r\n        className={\"button-pallet\"}\r\n        name={this.props.name}\r\n        title={this.props.text}\r\n      >\r\n        <span\r\n          className={\"sprite \" + this.props.icon}>\r\n        </span>\r\n        <span\r\n          className={\"button-pallet__color\"}\r\n          style={{ backgroundColor: this.props.style }}\r\n        >\r\n        </span>\r\n      </button >\r\n    )\r\n  }\r\n}","import React from 'react';\r\nimport { render } from '@testing-library/react';\r\n\r\nimport Button from './button';\r\n\r\nimport { SketchPicker, CirclePicker } from 'react-color';\r\n\r\nimport {\r\n  formatCommand_clear,\r\n  formatCommand_bgcolor,\r\n  formatCommand_color,\r\n  formatCommand_link\r\n} from '../vars';\r\n\r\n// настройка тегов\r\nexport default class TagsPanel extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = props.param;\r\n\r\n    this.setTag = this.setTag.bind(this);\r\n    this.clearFormat = this.clearFormat.bind(this);\r\n  }\r\n\r\n  // установить тег (форматирование текста)\r\n  setTag(e) {\r\n    e.preventDefault();\r\n\r\n    if (!this.props.editAllowed) return false;\r\n\r\n    let tag = e.target.name; // тег, который надо установить\r\n    let commands = this.state.tagParameters[tag].command; // команды, прописанные для этого тега\r\n\r\n    // если команды для этого тега существуют\r\n    if (commands) {\r\n      // применить все заданные команды из массива\r\n      for (let i = 0; i < commands.length; i++) {\r\n        // *** document.execCommand('Название команды', false, значение (если требуется));\r\n\r\n        // если нужно вводить адрес ссылки\r\n        if (tag === formatCommand_link) {\r\n          let href = prompt('Введите путь для ссылки:');\r\n          if (!href) href = commands[i][2].toUpperCase();\r\n          document.execCommand(commands[i][0], commands[i][1], href);\r\n\r\n          // если нужно выбрать цвет фона\r\n        } else if (tag === formatCommand_bgcolor) {\r\n          document.execCommand(commands[i][0], commands[i][1], this.props.param.styles.bgcolor);\r\n\r\n          // если нужно выбрать цвет текста\r\n        } else if (i === 1 && tag === formatCommand_color) {\r\n          document.execCommand(commands[i][0], commands[i][1], this.props.param.styles.color);\r\n\r\n          // [default] просто стилизовать текст\r\n        } else {\r\n          document.execCommand(commands[i][0], commands[i][1], commands[i][2].toUpperCase());\r\n        }\r\n      }\r\n\r\n      // если нужно очистить формат\r\n      if (tag === formatCommand_clear) {\r\n        this.clearFormat();\r\n      }\r\n\r\n      // если команды для этого тега НЕ существуют\r\n    } else {\r\n      console.log('Правила форматирования для этого тега не прописаны.\\nСделайте это в файле startingValue.js');\r\n    }\r\n  }\r\n\r\n  //  очистить формат, удалив родительский тег\r\n  clearFormat() {\r\n    let container = null; // блок, с которым работаем\r\n    // если выделен (для IE)\r\n    if (document.selection) {\r\n      // записать выделенный текст\r\n      container = document.selection.createRange().parentElement();\r\n    }\r\n    // если выделен\r\n    else {\r\n      // диапазон текста, который пользователь выделил на странице\r\n      let select = window.getSelection();\r\n\r\n      // если количество диапазонов в выделении > 0\r\n      if (select.rangeCount > 0)\r\n        // записать выделенный текст\r\n        container = select.getRangeAt(0).startContainer.parentNode;\r\n    }\r\n\r\n    // если этот элемент не div и не li\r\n    // *** пояснение:\r\n    // * [div] -> чтобы нельзя было удалить сам блок .content при выделении всего содержимого\r\n    // * [li] -> чтобы нельзя было убирать формат списков (слишком много багов из-за этого) \r\n    if (container.nodeName !== 'DIV' && container.nodeName !== 'LI') {\r\n      container.outerHTML = container.innerHTML; // удалить родительский тег\r\n    }\r\n  }\r\n\r\n  render() {\r\n    // преобразовать объект в массив ключей, чтобы можно было использовать .map    \r\n    let tagsArray = Object.keys(this.state.tagParameters);\r\n\r\n    let tagList = tagsArray.map((elem, index) => {\r\n      return (\r\n        <Button\r\n          key={index}\r\n          param={this.state}\r\n          clickEvent={this.setTag}\r\n          text={elem}\r\n          name={elem}\r\n          // если иконка указана, то передать её\r\n          icon={this.state.tagParameters[elem].display && this.state.tagParameters[elem].display[0]}\r\n        />\r\n      )\r\n    });\r\n\r\n    return (\r\n      <div className={this.props.classes} >\r\n        {tagList}\r\n      </div>\r\n    )\r\n  }\r\n}","// переменные \r\n\r\nexport const formatCommand_clear = 'clearFormat';\r\nexport const formatCommand_bgcolor = 'bgcolor';\r\nexport const formatCommand_color = 'color';\r\nexport const formatCommand_link = 'link';\r\n\r\n\r\nexport const default_bgcolor = '#ffeb3b';\r\nexport const default_color = '#f44336';","// tabSwitches\r\n\r\nimport React from 'react';\r\nimport { render } from '@testing-library/react';\r\n\r\nimport Button from './button';\r\n\r\n// настройка тегов\r\nexport default class TabSwitches extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = props.param;\r\n\r\n    this.clickEvent = this.props.clickEvent;\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className={this.props.classes}>\r\n        {/* КНОПКА скачать */}\r\n        <Button\r\n          param={this.props.param}\r\n          clickEvent={this.clickEvent}\r\n          text={this.props.param.buttons.text}\r\n          name='0'\r\n          icon='icon-text-graphical'\r\n        />\r\n        <Button\r\n          param={this.props.param}\r\n          clickEvent={this.clickEvent}\r\n          text={this.props.param.buttons.html}\r\n          name='1'\r\n          icon='icon-html'\r\n        />\r\n        <Button\r\n          param={this.props.param}\r\n          clickEvent={this.clickEvent}\r\n          text={this.props.param.buttons.css}\r\n          name='2'\r\n          icon='icon-css'\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}","import React from 'react';\r\nimport { render } from '@testing-library/react';\r\n\r\nimport Button from './button';\r\n\r\n// настройка тегов\r\nexport default class ButtonsPanel extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = props.param;\r\n\r\n    this.setGlobalParam = props.setGlobalParam;\r\n    this.reset = props.reset;\r\n    // this.switchEditText = props.switchEditText;\r\n\r\n\r\n    this.download = this.download.bind(this);\r\n    this.undo = this.undo.bind(this);\r\n    this.redo = this.redo.bind(this);\r\n  }\r\n\r\n  // скачать отредактированный текст\r\n  download() {\r\n    // если режим редактирования выключен\r\n    if (!this.props.param.states.editText) {\r\n      let editableBlock = document.querySelector('.content'); // блок, текст в котором можно редактировать\r\n      let block = editableBlock.outerHTML; // текст внутри блока\r\n\r\n      let link = document.createElement(\"a\"); // сгенерировать ссылку\r\n      let file = new Blob([block], { type: 'txt' }); // сгенерировать файл\r\n      link.href = URL.createObjectURL(file); // сгенерировать href\r\n      link.download = \"text.txt\"; // название и расширение файла\r\n      link.click(); // имитировать нажатие на ссылку\r\n\r\n      // если режим редактирования НЕ выключен\r\n    } else {\r\n      alert('Перед скачиванием нужно выйти из режима редактирования.\\nИначе параметры редактирования не будут применены к тексту');\r\n    }\r\n  }\r\n\r\n  // сбросить изменения  параметров\r\n  undo() {\r\n    document.execCommand(\"undo\"); // Отмена последнего действия \r\n  }\r\n\r\n  // сбросить изменения  параметров\r\n  redo() {\r\n    document.execCommand(\"redo\"); // Повтор последнего действия \r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={this.props.classes}>\r\n\r\n        {/* КНОПКА Режим редактирования текста */}\r\n        {/* <Button\r\n          param={this.props.param}\r\n          on_off='true'\r\n          on_off_status={this.props.param.states.editText}\r\n          clickEvent={this.switchEditText}\r\n          text={this.props.param.buttons.edit}\r\n          icon='icon-edit'\r\n        /> */}\r\n\r\n        {/* КНОПКА Отменить */}\r\n        <Button\r\n          param={this.props.param}\r\n          clickEvent={this.undo}\r\n          text={this.props.param.buttons.undo}\r\n          icon='icon-undo'\r\n        />\r\n\r\n        {/* КНОПКА Повторить */}\r\n        <Button\r\n          param={this.props.param}\r\n          clickEvent={this.redo}\r\n          text={this.props.param.buttons.redo}\r\n          icon='icon-redo'\r\n        />\r\n\r\n        {/* КНОПКА скачать */}\r\n        <Button\r\n          param={this.props.param}\r\n          clickEvent={this.download}\r\n          text={this.props.param.buttons.download}\r\n          icon='icon-save'\r\n        />\r\n\r\n      </div>\r\n    )\r\n  }\r\n}","import React from 'react';\r\nimport { render } from '@testing-library/react';\r\n\r\n\r\n// Поле ввода\r\nexport default class Input extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      value: props.param\r\n    };\r\n\r\n    this.eventHandler = props.eventHandler;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <label title={this.props.text || 'input'}>\r\n        {this.props.icon ?\r\n          <span className={this.props.icon}></span>\r\n          :\r\n          <span>{this.props.text || 'input'}</span>\r\n        }\r\n        <input\r\n          type={this.props.type || 'text'}\r\n          name={this.props.name || 'input'}\r\n          // value={this.props.param || this.state.value} // в этом случае сбрасывается значение\r\n          value={this.props.param} // в этом случае в консоли ошибка\r\n          step={this.props.step && this.props.step}\r\n          onChange={this.eventHandler}\r\n        />\r\n      </label>\r\n    )\r\n  }\r\n}","// buttonOnOff\r\n\r\nimport React from 'react';\r\nimport { render } from '@testing-library/react';\r\n\r\n\r\n// Кнопка со сменой статуса\r\nexport default class ButtonOnOff extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.clickEvent = props.clickEvent;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <button\r\n        className={this.props.on_off_status ? 'on' : 'off'}\r\n        onClick={this.clickEvent}\r\n        name={this.props.name}\r\n        title={this.props.text}\r\n      >\r\n        <b className=\"uppercase\">\r\n          {this.props.on_off_status ? 'on' : 'off'}\r\n        </b>\r\n        {/* Если есть иконка, то добавить её класс. Если нет, то просто текст */}\r\n        {this.props.icon ?\r\n          <span\r\n            className={\"sprite \" + this.props.icon}>\r\n          </span>\r\n          :\r\n          <span>\r\n            {this.props.text}\r\n          </span>\r\n        }\r\n      </button >\r\n    )\r\n  }\r\n}","import React from 'react';\r\nimport { render } from '@testing-library/react';\r\n\r\nimport Input from './input';\r\nimport Button from './button';\r\nimport ButtonOnOff from './buttonOnOff';\r\n\r\n// настройка тегов\r\nexport default class MainSettingsPanel extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = props.param;\r\n\r\n    this.eventHandler = props.eventHandler;\r\n    this.reset = props.reset;\r\n    this.switchEditText = props.switchEditText;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={this.props.classes}>\r\n\r\n        {/* КНОПКА Вернуть стандартные настройки */}\r\n        {/* <Button\r\n          param={this.props.param}\r\n          clickEvent={this.reset}\r\n          text={this.props.param.buttons.reset}\r\n          icon=\"icon-clear\"\r\n          /> */}\r\n\r\n        {/* КНОПКА Режим редактирования текста */}\r\n        <ButtonOnOff\r\n          param={this.props.param}\r\n          on_off_status={this.props.param.states.editText}\r\n          clickEvent={this.switchEditText}\r\n          text={this.props.param.buttons.edit}\r\n          icon='icon-edit'\r\n        />\r\n\r\n\r\n        {/* Размер шрифта */}\r\n        <Input\r\n          param={this.props.param.styles.fontSize}\r\n          eventHandler={this.eventHandler}\r\n          type=\"number\"\r\n          name=\"fontSize\"\r\n          text={this.props.param.inputs.fontSize}\r\n          icon=\"sprite icon-format_size_white\"\r\n        />\r\n\r\n\r\n        {/* Высота строки */}\r\n        <Input\r\n          param={this.props.param.styles.lineHeight}\r\n          eventHandler={this.eventHandler}\r\n          type=\"number\"\r\n          name=\"lineHeight\"\r\n          step=\"0.1\"\r\n          text={this.props.param.inputs.lineHeight}\r\n          icon=\"sprite icon-line_height_white\"\r\n        />\r\n\r\n\r\n      </div>\r\n    )\r\n  }\r\n}","import React from 'react';\r\nimport { render } from '@testing-library/react';\r\n\r\nimport { SketchPicker, SwatchesPicker } from 'react-color';\r\n\r\nimport Button from './button';\r\nimport ButtonPallet from './buttonPallet';\r\nimport TagsPanel from './tagsPanel';\r\nimport TabSwitches from './tabSwitches';\r\nimport ButtonsPanel from './buttonsPanel';\r\nimport MainSettingsPanel from './mainSettingsPanel';\r\n\r\n\r\nimport {\r\n  formatCommand_clear,\r\n  formatCommand_bgcolor,\r\n  formatCommand_color,\r\n  formatCommand_link,\r\n  default_bgcolor,\r\n  default_color,\r\n} from '../vars';\r\n\r\n\r\n// панель редактирования\r\nexport default class EditorPanel extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = props.param;\r\n\r\n    this.setGlobalParam = props.setGlobalParam;\r\n    this.switchEditText = props.switchEditText;\r\n    this.tabSwitch = props.tabSwitch;\r\n    // this.reset = props.reset;\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.switchShowColorPiper = this.switchShowColorPiper.bind(this);\r\n    this.changeColor = this.changeColor.bind(this);\r\n  }\r\n\r\n  // при изменении выбранного цвета в палитре\r\n  handleChange(color) {\r\n    this.setState((state) => ({\r\n      styles: {\r\n        ...state.styles,\r\n        [state.states.paletteEdit]: color.hex, // изменить цвет для палитры\r\n      }\r\n    }));\r\n  }\r\n\r\n  // смена статуса панели выбора цвета [показать/скрыть]\r\n  switchShowColorPiper() {\r\n    this.setState((state) => ({\r\n      states: {\r\n        ...state.states,\r\n        colorPicker: !state.states.colorPicker\r\n      }\r\n    }));\r\n  }\r\n\r\n\r\n  // при открытии панели выбора цвета, нажатием на палитру\r\n  changeColor(e) {\r\n    let param = e.target.getAttribute('name');\r\n\r\n    this.setState((state) => ({\r\n      states: {\r\n        ...state.states,\r\n        paletteEdit: param // изменить палитру, которую сейчас редактируем\r\n      }\r\n    }));\r\n\r\n    this.switchShowColorPiper();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"editor-panel\">\r\n          <h3 className=\"editor-panel__title\">Панель редактирования</h3>\r\n\r\n          <div className=\"editor-panel__inner editor-panel__scroll\">\r\n            {/* основные настройки */}\r\n            <MainSettingsPanel\r\n              param={this.props.param}\r\n              classes=\"editor-panel__inner\"\r\n              eventHandler={this.setGlobalParam}\r\n              reset={this.reset}\r\n              switchEditText={this.switchEditText}\r\n            />\r\n\r\n            {/* панель с кнопками */}\r\n            <ButtonsPanel\r\n              param={this.props.param}\r\n              classes=\"editor-panel__inner\"\r\n            // switchEditText={this.switchEditText}\r\n            />\r\n\r\n\r\n            {/* Выбор цвета */}\r\n            <div className=\"editor-panel__inner\">\r\n              {/* Выбор цвета фона */}\r\n              <ButtonPallet\r\n                text=\"Установить цвет фона\"\r\n                icon=\"icon-format_paint_white\"\r\n                name={formatCommand_bgcolor}\r\n                clickEvent={this.changeColor}\r\n                style={this.state.styles.bgcolor}\r\n              />\r\n\r\n              {/* Выбор цвета текста */}\r\n              <ButtonPallet\r\n                text=\"Установить цвет текста\"\r\n                icon=\"icon-color_lens_white\"\r\n                name={formatCommand_color}\r\n                clickEvent={this.changeColor}\r\n                style={this.state.styles.color}\r\n              />\r\n            </div>\r\n\r\n            <TabSwitches\r\n              param={this.props.param}\r\n              classes=\"editor-panel__inner editor-panel__right\"\r\n              clickEvent={this.tabSwitch}\r\n            />\r\n          </div>\r\n\r\n          {/* настройка тегов */}\r\n          <TagsPanel\r\n            param={this.state}\r\n            editAllowed={this.props.param.states.tabActive === '0' ? true : false}\r\n            classes=\"editor-panel__inner editor-panel__scroll\"\r\n            switchShowColorPiper={this.switchShowColorPiper}\r\n          />\r\n        </div>\r\n\r\n\r\n        {/* Панель выбора цвета */}\r\n        <div\r\n          className={this.state.states.colorPicker ? 'color-picker-wp open' : 'color-picker-wp'}\r\n        >\r\n\r\n          {/* КНОПКА Закрыть */}\r\n          <Button\r\n            param={this.state}\r\n            clickEvent={this.switchShowColorPiper}\r\n            text='X Закрыть'\r\n            classes='color-picker__close'\r\n          />\r\n\r\n          <SwatchesPicker\r\n            onChange={this.handleChange}\r\n            color={this.state.styles.bgcolor}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};","import React from 'react';\r\nimport { render } from '@testing-library/react';\r\n\r\n// Текст, который можно редактировать\r\nexport default class ContentEditable extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = props.param;\r\n\r\n    this.onBlur = this.props.onBlur;\r\n    this.onChange = this.props.onChange;\r\n  }\r\n\r\n  render() {\r\n    let createContent = () => {\r\n      return { __html: this.props.param.html };\r\n    }\r\n    return (\r\n      <div\r\n        tabIndex=\"0\"\r\n        contentEditable={this.props.param.states.editText ? 'true' : 'false'}\r\n        suppressContentEditableWarning={true} // чтобы убрать в консоли предупреждение о contentEditable\r\n        className={this.props.param.states.editText ? 'content edit' : 'content'}\r\n        onBlur={this.onBlur} // событие при потере фокуса \r\n        dangerouslySetInnerHTML={createContent()} // вставить переданный текст\r\n        style={{\r\n          fontSize: `${this.props.param.styles.fontSize}px`,\r\n          lineHeight: `${this.props.param.styles.lineHeight}em`\r\n        }}\r\n      >\r\n      </div>\r\n    );\r\n  }\r\n};","import React from 'react';\r\nimport { render } from '@testing-library/react';\r\n\r\n// Текст, который можно редактировать\r\nexport default class HTMLeditable extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = props.param;\r\n\r\n    this.onBlur = this.props.onBlur;\r\n    this.onChange = this.props.onChange;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <pre>\r\n        <code\r\n          tabIndex=\"0\"\r\n          contentEditable={this.props.param.states.editText ? 'true' : 'false'}\r\n          suppressContentEditableWarning={true} // чтобы убрать в консоли предупреждение о contentEditable\r\n          className={this.props.param.states.editText ? 'content edit' : 'content'}\r\n          onChange={this.onChange} // \r\n          onBlur={this.onBlur} // событие при потере фокуса \r\n        >\r\n          {this.props.param.html}\r\n        </code>\r\n      </pre>\r\n    );\r\n  }\r\n};","// tabContent\r\n\r\n\r\nimport React from 'react';\r\nimport { render } from '@testing-library/react';\r\n\r\n// Текст, который можно редактировать\r\nexport default class TabContainer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return (\r\n      <ul\r\n        className={'clear-list'}\r\n      >\r\n        {children.map((elem, i) => (\r\n          <li\r\n            className={(this.props.show == i) ? 'show tab' : 'tab'}\r\n            key={i}\r\n          >\r\n            {elem}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    );\r\n  }\r\n};","// React\r\nimport React from 'react';\r\nimport sanitizeHtml from \"sanitize-html\";\r\nimport { render } from '@testing-library/react';\r\n\r\n// Мои компоненты\r\nimport EditorPanel from './components/editorPanel';\r\nimport ContentEditable from './components/contentEditable';\r\nimport HTMLeditable from './components/htmlEditable';\r\nimport TabContainer from './components/tabContainer';\r\nimport Button from './components/button';\r\n\r\n// Стили\r\nimport './App.css';\r\nimport './sprite.css';\r\n\r\n\r\nexport default class App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = props.data;\r\n\r\n    console.log('*** Начальные данные ***\\n', this.state);\r\n\r\n    this.setGlobalParam = this.setGlobalParam.bind(this);\r\n    this.switchEditText = this.switchEditText.bind(this);\r\n    // this.reset = this.reset.bind(this);\r\n    this.sanitize = this.sanitize.bind(this);\r\n  }\r\n\r\n  // установить глобальные настройки\r\n  setGlobalParam(e) {\r\n    let inputName = e.target.name;\r\n    let value = e.target.value;\r\n\r\n    this.setState((state) => ({\r\n      styles: {\r\n        ...state.styles,\r\n        [inputName]: [value]\r\n      }\r\n    }));\r\n  }\r\n\r\n  // сбросить изменения параметров текста\r\n  // reset() {\r\n  //   this.setState({\r\n  //     styles: {\r\n  //       fontSize: this.props.data.styles.fontSize,\r\n  //       lineHeight: this.props.data.styles.lineHeight,\r\n  //     }\r\n  //   });\r\n  // }\r\n\r\n  // вкл/откл возможность редактировать текст\r\n  switchEditText() {\r\n    this.setState({\r\n      states: {\r\n        // заменить значение на противоположное\r\n        editText: !this.state.states.editText\r\n      }\r\n    });\r\n\r\n    // если режим редактирования выключен\r\n    if (this.state.states.editText) {\r\n      this.sanitize(); // записать новый текст, удалив неразрешённые теги\r\n    }\r\n  }\r\n\r\n  // записать новый текст, удалив неразрешённые теги\r\n  sanitize() {\r\n    let editableBlock = document.querySelectorAll('.content'); // блок, текст в котором можно редактировать\r\n\r\n    editableBlock.forEach(elem => {\r\n      let text = (elem.tagName !== \"CODE\") ? elem.innerHTML : elem.innerText; // текст внутри блока\r\n\r\n      // если текст изменился\r\n      if (text !== this.state.html) {\r\n        // записать новую версию текста, применив настройки (удалить пустые теги, заменить символы и пр.)\r\n        this.setState({\r\n          html: sanitizeHtml(text, this.state.sanitizeParam)\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  // переключить активный таб\r\n  tabSwitch = (e) => {\r\n    this.sanitize(); // записать новый текст, удалив неразрешённые теги\r\n\r\n    let index = e.target.name;\r\n\r\n    this.setState((state) => ({\r\n      states: {\r\n        ...state.states,\r\n        tabActive: index\r\n      }\r\n    }));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <main className=\"App\">\r\n\r\n        {/* панель редактирования */}\r\n        <EditorPanel\r\n          param={this.state}\r\n          setGlobalParam={this.setGlobalParam}\r\n          switchEditText={this.switchEditText}\r\n          tabSwitch={this.tabSwitch}\r\n        // reset={this.reset}\r\n        />\r\n\r\n        <TabContainer\r\n          show={this.state.states.tabActive}\r\n        >\r\n          {/* блок, ТЕКСТ в котором можно редактировать */}\r\n          <ContentEditable\r\n            param={this.state}\r\n          />\r\n\r\n          {/* блок, ТЕГИ в котором можно редактировать */}\r\n          <HTMLeditable\r\n            param={this.state}\r\n          />\r\n          <div>Тут будет отображаться css</div>\r\n        </TabContainer>\r\n\r\n\r\n      </main>\r\n    );\r\n  };\r\n};","import {\r\n  formatCommand_clear,\r\n  formatCommand_bgcolor,\r\n  formatCommand_color,\r\n  formatCommand_link,\r\n  default_bgcolor,\r\n  default_color,\r\n} from './vars';\r\n\r\n// Начальные значения\r\nexport const startingValue = {\r\n  // стили\r\n  styles: {\r\n    fontSize: 16,\r\n    lineHeight: 2.2,\r\n\r\n    bgcolor: default_bgcolor,\r\n    color: default_color,\r\n  },\r\n\r\n  // состояния элементов\r\n  states: {\r\n    editText: true, // вкл/выкл режим редактирования текста\r\n    colorPicker: false, // показать/скрыть панель выбора цвета\r\n\r\n    // какой параметр по-умолчанию изменяет панель выбора цвета\r\n    paletteEdit: formatCommand_bgcolor,\r\n\r\n    // какой таб будет активным изначально\r\n    tabActive: '0'\r\n  },\r\n\r\n  // параметры для sanitize-html\r\n  sanitizeParam: {\r\n    // разрешённые в редактируемом блоке теги\r\n    allowedTags: false, // разрешить все теги\r\n    // allowedTags: [\r\n    //   'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'blockquote', 'p', 'a', 'ul', 'ol',\r\n    //   'li', 'b', 'i', 'strong', 'em', 'strike', 'code', 'hr', 'br', 'sub', 'sup', 'span'\r\n    // ],\r\n    // разрешённые атрибуты\r\n    allowedAttributes: {\r\n      a: ['href', 'name', 'target'],\r\n      '*': ['style', 'color', 'bgcolor', 'background-color']\r\n    },\r\n    parser: {\r\n      lowerCaseTags: true\r\n    },\r\n    // заменить <x> на <y>\r\n    transformTags: {\r\n      'div': 'p',\r\n      'br': '',\r\n      'string': 'b',\r\n      'em': 'i',\r\n      'strike': 's',\r\n    },\r\n    // удалить пусте теги\r\n    exclusiveFilter: function (frame) {\r\n      return (\r\n        !frame.text.trim()\r\n      );\r\n    },\r\n  },\r\n\r\n  /*\r\n  * команды для редактирования текста\r\n  * если key записан в виде [keyName],\r\n  * то его название нужно менять в файле ./vars.js\r\n  * [эти названия используются где-то ещё в коде]\r\n  */\r\n  tagParameters: {\r\n    [formatCommand_clear]: {\r\n      command: [\r\n        ['removeFormat', false, ''],\r\n        ['unlink', false, ''],\r\n      ],\r\n      display: ['icon-format_clear']\r\n    },\r\n    h1: {\r\n      command: [\r\n        ['formatBlock', false, 'h1'],\r\n      ],\r\n      display: ['icon-title_1']\r\n    },\r\n    h2: {\r\n      command: [\r\n        ['formatBlock', false, 'h2'],\r\n      ],\r\n      display: ['icon-title_2']\r\n    },\r\n    h3: {\r\n      command: [\r\n        ['formatBlock', false, 'h3'],\r\n      ],\r\n      display: ['icon-title_3']\r\n    },\r\n    // h4: {\r\n    // command: [\r\n    // ['formatBlock', false, 'h4'],\r\n    // ],\r\n    // display: ['icon-save']\r\n    // },\r\n    // h5: {\r\n    //   command: [\r\n    //     ['formatBlock', false, 'h5'],\r\n    //   ],\r\n    //   display: ['icon-save']\r\n    // },\r\n    // h6: {\r\n    //   command: [\r\n    //     ['formatBlock', false, 'h6'],\r\n    //   ],\r\n    //   display: ['icon-save']\r\n    // },\r\n    p: {\r\n      command: [\r\n        ['formatBlock', false, 'p'],\r\n      ],\r\n      display: ['icon-text']\r\n    },\r\n    [formatCommand_link]: {\r\n      command: [\r\n        ['createLink', false, '#'], // нельзя менять и добавлять новые команды\r\n      ],\r\n      display: ['icon-insert_link']\r\n    },\r\n    ul: {\r\n      command: [\r\n        ['insertUnorderedList', false, ''],\r\n      ],\r\n      display: ['icon-format_list_bulleted']\r\n    },\r\n    ol: {\r\n      command: [\r\n        ['insertOrderedList', false, ''],\r\n      ],\r\n      display: ['icon-format_list_numbered']\r\n    },\r\n    b: {\r\n      command: [\r\n        ['bold', false, ''],\r\n      ],\r\n      display: ['icon-format_bold']\r\n    },\r\n    i: {\r\n      command: [\r\n        ['italic', false, ''],\r\n      ],\r\n      display: ['icon-format']\r\n    },\r\n    strike: {\r\n      command: [\r\n        ['strikeThrough', false, ''],\r\n      ],\r\n      display: ['icon-strikethrough']\r\n    },\r\n    [formatCommand_bgcolor]: {\r\n      command: [\r\n        ['hiliteColor', false, default_bgcolor],\r\n      ],\r\n      display: ['icon-format_paint']\r\n    },\r\n    [formatCommand_color]: {\r\n      command: [\r\n        ['styleWithCSS', false, 'true'], // использовать стили, а не html\r\n        ['foreColor', false, '#ff0000'],\r\n        ['styleWithCSS', false, 'false'], // использовать html, а не стили\r\n      ],\r\n      display: ['icon-color_lens']\r\n    },\r\n    sup: {\r\n      command: [\r\n        ['superscript', false, ''],\r\n      ],\r\n      display: ['icon-superscript']\r\n    },\r\n    sub: {\r\n      command: [\r\n        ['subscript', false, ''],\r\n      ],\r\n      display: ['icon-subscript']\r\n    },\r\n    underline: {\r\n      command: [\r\n        ['underline', false, ''],\r\n      ],\r\n      display: ['icon-format_underlined']\r\n    },\r\n    blockquote: {\r\n      command: [\r\n        ['formatBlock', false, 'blockquote'],\r\n      ],\r\n      display: ['icon-format_quote']\r\n    },\r\n    hr: {\r\n      command: [\r\n        ['insertHorizontalRule', false, ''],\r\n      ],\r\n      display: ['icon-line_horizontal']\r\n    },\r\n    left: {\r\n      command: [\r\n        ['justifyLeft', false, ''],\r\n      ],\r\n      display: ['icon-format_align_left']\r\n    },\r\n    center: {\r\n      command: [\r\n        ['justifyCenter', false, ''],\r\n      ],\r\n      display: ['icon-format_align_center']\r\n    },\r\n    right: {\r\n      command: [\r\n        ['justifyRight', false, ''],\r\n      ],\r\n      display: ['icon-format_align_right']\r\n    },\r\n    full: {\r\n      command: [\r\n        ['justifyFull', false, ''],\r\n      ],\r\n      display: ['icon-format_align_justify']\r\n    },\r\n  },\r\n\r\n  // текст кнопок\r\n  buttons: {\r\n    edit: 'Режим редактирования текста',\r\n    reset: 'Вернуть стандартные настройки',\r\n    undo: 'Отменить',\r\n    redo: 'Повторить',\r\n    download: 'Скачать текст с тегами',\r\n    text: 'text',\r\n    html: 'html',\r\n    css: 'css',\r\n  },\r\n\r\n  // текст полей ввода\r\n  inputs: {\r\n    fontSize: 'Размер шрифта',\r\n    lineHeight: 'Межстрочный интервал',\r\n  },\r\n\r\n  // текст в редактируемом блоке\r\n  html: `\r\n  <p>v3</p>\r\n  <p><b>Редактируемый текст</b></p>\r\n  <p>Текст и его стили можно изменять, нажав на кнопку <b>Режим редактирования текста</b>.</p>\r\n  <p>Очистить формат текста можно, нажав на <b>clearFormat</b>.</p>\r\n  `\r\n}\r\n  // <p>Аксиома <s>силлогизма</s>, по определению, представляет собой неоднозначный предмет деятельности.\r\n  // Наряду с этим ощущение мира решительно контролирует непредвиденный гравитационный парадокс. \r\n  // Созерцание <i>непредсказуемо</i>. Смысл жизни, следовательно, творит данный закон внешнего мира. \r\n  // Апостериори, гравитационный парадокс <sup>амбивалентно</sup> понимает</p>\r\n  // <h2>Заголовок</h2>\r\n  // <p>Аксиома силлогизма, по определению, представляет собой неоднозначный предмет деятельности. \r\n  // Наряду с этим ощущение мира решительно контролирует непредвиденный гравитационный парадокс. \r\n  // Созерцание непредсказуемо. <a href=\"#\">Смысл жизни</a>, <b>следовательно</b>, творит данный закон внешнего мира. \r\n  // Апостериори, гравитационный парадокс амбивалентно понимает</p>\r\n  // <ul>\r\n  // <li>Аксиома</li>\r\n  // <li>силлогизма</li>\r\n  // <li>по определению</li>\r\n  // </ul>\r\n  // <blockquote>Аксиома силлогизма, по определению, представляет собой неоднозначный предмет деятельности. \r\n  // Наряду с этим ощущение мира решительно контролирует непредвиденный гравитационный парадокс. \r\n  // Созерцание непредсказуемо. Смысл жизни, следовательно, творит данный закон внешнего мира. \r\n  // Апостериори, гравитационный парадокс амбивалентно понимает</blockquote>\r\n  // <p>Аксиома силлогизма, по определению, представляет собой неоднозначный предмет деятельности. \r\n  // Наряду с этим ощущение мира решительно контролирует непредвиденный гравитационный парадокс. \r\n  // Созерцание непредсказуемо. <a href=\"#\">Смысл жизни</a>, <b>следовательно</b>, творит данный закон внешнего мира. \r\n  // Апостериори, гравитационный парадокс амбивалентно понимает</p>","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\n\r\nimport App from './App';\r\nimport { startingValue } from './startingValue';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n// Начальные значения\r\nconst data = startingValue;\r\n\r\nReactDOM.render(<App data={data} />, document.getElementById('root'));\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}